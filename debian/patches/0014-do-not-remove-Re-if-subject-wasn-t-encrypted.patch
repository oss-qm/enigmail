From: Patrick Brunschwig <patrick@enigmail.net>
Date: Mon, 10 Sep 2018 17:11:54 +0200
Subject: do not remove "Re: " if subject wasn't encrypted

(cherry picked from commit 2ff01dd2e2ca8e8095625e9801f705d036e2d674)
---
 ui/content/enigmailMsgComposeOverlay.js | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/ui/content/enigmailMsgComposeOverlay.js b/ui/content/enigmailMsgComposeOverlay.js
index 1a65832..a9e44a0 100644
--- a/ui/content/enigmailMsgComposeOverlay.js
+++ b/ui/content/enigmailMsgComposeOverlay.js
@@ -638,6 +638,9 @@ Enigmail.msg = {
     if (doSetSubject) {
       subject = EnigmailData.convertToUnicode(subject, "UTF-8");
       subject = jsmime.headerparser.decodeRFC2047Words(subject, "utf-8");
+
+      if (subjElem.value == "Re: " + subject) return;
+
       gMsgCompose.compFields.subject = prefix + subject;
       subjElem.value = prefix + subject;
       if (typeof subjElem.oninput === "function") subjElem.oninput();
