From: Daniel Kahn Gillmor <dkg@fifthhorseman.net>
Date: Tue, 11 Sep 2018 18:21:57 -0400
Subject: [PATCH 05/12] we are now working only with thunderbird 60 and higher

---
 ipc/modules/enigmailprocess_worker_unix.js | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

diff --git a/ipc/modules/enigmailprocess_worker_unix.js b/ipc/modules/enigmailprocess_worker_unix.js
index db5b1dd..5f2b93c 100644
--- a/ipc/modules/enigmailprocess_worker_unix.js
+++ b/ipc/modules/enigmailprocess_worker_unix.js
@@ -489,13 +489,11 @@ class Process extends BaseProcess {
 
     let res = libc.waitpid(this.pid, status.address(), LIBC.WNOHANG);
 
-    const EINTR = 4; // TODO: change to LIBC.EINTR with TB 59
-
     // If there's a failure here and we get any errno other than EINTR, it
     // means that the process has been reaped by another thread (most likely
     // the nspr process wait thread), and its actual exit status is not
     // available to us. In that case, we have to assume success.
-    if (res == 0 || (res == -1 && ctypes.errno == EINTR)) {
+    if (res == 0 || (res == -1 && ctypes.errno == LIBC.EINTR)) {
       return null;
     }
 
