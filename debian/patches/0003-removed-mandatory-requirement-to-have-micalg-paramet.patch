From: Patrick Brunschwig <patrick@enigmail.net>
Date: Mon, 28 Mar 2016 19:46:35 +0200
Subject: removed mandatory requirement to have micalg parameter (micalg is
 auto-detected by GnuPG)

---
 package/mimeVerify.jsm | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

diff --git a/package/mimeVerify.jsm b/package/mimeVerify.jsm
index c44f8c1..920d067 100644
--- a/package/mimeVerify.jsm
+++ b/package/mimeVerify.jsm
@@ -153,13 +153,12 @@ MimeVerify.prototype = {
 
     // Eat up CRLF's.
     contentTypeLine = contentTypeLine.replace(/[\r\n]/g, "");
-    LOCAL_DEBUG("mimeVerify.jsm: parseContentType: " + contentTypeLine + "\n");
+    EnigmailLog.DEBUG("mimeVerify.jsm: parseContentType: " + contentTypeLine + "\n");
 
     if (contentTypeLine.search(/multipart\/signed/i) >= 0 &&
-      contentTypeLine.search(/micalg\s*=\s*[\"\']?pgp-[\"\']?/i) > 0 &&
       contentTypeLine.search(/protocol\s*=\s*[\'\"]application\/pgp-signature[\"\']/i) > 0) {
 
-      LOCAL_DEBUG("mimeVerify.jsm: parseContentType: found PGP/MIME signed message\n");
+      EnigmailLog.DEBUG("mimeVerify.jsm: parseContentType: found PGP/MIME signed message\n");
       this.foundMsg = true;
       let hdr = EnigmailFuncs.getHeaderData(contentTypeLine);
       hdr.boundary = hdr.boundary || "";
