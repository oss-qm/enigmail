From: Patrick Brunschwig <patrick@enigmail.net>
Date: Wed, 28 Mar 2018 17:15:22 +0200
Subject: ignore --sender if domain contains a comment (in brackets)

(cherry picked from commit ac75f9307adc78bb55e06e44a0cd0b12390c5c8e)
---
 package/decryption.jsm | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/package/decryption.jsm b/package/decryption.jsm
index 6b26eaa..d368dc4 100644
--- a/package/decryption.jsm
+++ b/package/decryption.jsm
@@ -98,6 +98,9 @@ var EnigmailDecryption = {
       var fromAddr = win.gFolderDisplay.selectedMessage.author;
       try {
         fromAddr = EnigmailFuncs.stripEmail(fromAddr);
+        if (fromAddr.search(/@.*[\(\)]/) >= 0) {
+          fromAddr = false;
+        }
       }
       catch (ex) {
         fromAddr = false;
